#include <iostream>
#include <regex>
#include "timer.hpp"
#include "io.hpp"

const static std::regex PART1 { R"((children: [^3]|cats: [^7]|samoyeds: [^2]|pomeranians: [^3]|akitas: [^0]|vizslas: [^0]|goldfish: [^5]|trees: [^3]|cars: [^2]|perfumes: [^1]))" }, PART2 { R"((children: [^3]|cats: [0-7]|samoyeds: [^2]|pomeranians: [^0-3]|akitas: [^0]|vizslas: [^0]|goldfish: (10|[5-9])|trees: [0-3]|cars: [^2]|perfumes: [^1],))" };

int main (int argc, char* argv[]) {
  bool part2 { argc == 2 };
  for (const std::string & line : io::by_line { std::cin }) {
    if (!std::regex_search (line, (part2 ? PART2 : PART1))) {
      std::cout << line << std::endl;
      break;
    }
  }
  return 0;
}
